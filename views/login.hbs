<br>
<br>
<br>
<br>
<main style="margin-top: 10px;">
  <div class="log-in-pop" style=" border-radius:10px;">
    <div class="log-in-pop-left">
      <center>
        <img src="/images/panda_sign.png" style="background-size: contain; height: 70%; width: 70%;">
      </center>
    </div>
    <div class="log-in-pop-right">
      <b style="text-align: center; font-size: 1.9rem; font-weight: 800;">Login</b>

      <form class="s12" action="/signin" method="POST">
        <br>
        <div>
          <div class="input-field s12">
            <input type="text" id="UserName" name="UserName" data-ng-model="name" class="validate">
            <label>User name</label>
          </div>
        </div>
        <div>
          <div class="input-field s12">
            <input type="password" id="Password" name="Password" class="validate">
            <label>Password</label>
          </div>
        </div>
        <div>
          <br>
          <div class="s12 log-ch-bx">
            <p>
              <input type="checkbox" id="test5" />
              <label for="test5">Remember me</label>
            </p>
          </div>
        </div>
        <br>
        <div>
          <div class="input-field s4">
            <input type="submit" value="Login" class="waves-effect waves-light log-in-btn">
          </div>
        </div>
        <div>
          <div class="input-field s12"> <a href="#" data-dismiss="modal" data-toggle="modal"
              data-target="#modal3">Forgot password</a> | <a href="#" data-dismiss="modal" data-toggle="modal"
              data-target="#modal2">Create a new account</a> </div>
        </div>
      </form>
    </div>
  </div>
  <br>
</main>
<br>
<br>
<br>

<script>
  document.getElementById('loginForm').addEventListener('submit', function (event) {
    event.preventDefault();

    const formData = new FormData(this);
    const url = "http://localhost:3000/login";

    fetch(url, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        username: formData.get('username'),
        password: formData.get('password')
      })
    })
      .then(response => {
        if (!response.ok) {
          throw new Error('Login failed with status ' + response.status);
        }
        return response.json();
      })
      .then(data => {
        console.log(data);
        alert('Login Successfully!');
      })
      .catch(error => {
        console.error('Error:', error);
        alert('Unauthorized!');
      });
  });
</script>